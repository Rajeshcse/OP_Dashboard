<% include ../partials/header %>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <title>Task List</title>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col s12">
          <div id="main" class="card">
            <div class="card-content">
              <span><h4>Task List</h4></span>
              <div class="row">
                <form id="task-form">
                  <div class="input-field col s12">
                    <input type="week" name="task" id="task" />
                    <label for="task"> </label>
                  </div>
                  <input type="submit" value="add task " class="btn" />
                </form>
              </div>
            </div>
            <div class="card-action">
              <h5 id="task-title">Task</h5>
              <div class="input-field col s12">
                <input type="text" name="filter" id="filter" />
                <label for="filter">Filter task</label>
              </div>
              <ul class="collection"></ul>
              <a href="#" class="clear-tasks btn black">Clear Tasks</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"
  ></script>
  <script>
    // Define UI Vars
    const form = document.querySelector("#task-form");
    const taskList = document.querySelector(".collection");
    const clearBtn = document.querySelector(".clear-tasks");
    const filter = document.querySelector("#filter");
    const taskInput = document.querySelector("#task");

    loadEventListeners();

    function loadEventListeners() {
      form.addEventListener("submit", addTask);
    }

    // Add Task
    function addTask(e) {
      if (taskInput.value === "") {
        alert("Add a task");
      }
      const li = document.createElement("li");
      li.className = "collection-item";
      li.appendChild(document.createTextNode(taskInput.value));
      const link = document.createElement("a");
      link.className = "delete-item secondary-content";
      link.innerHTML = '<i class="fa fa-remove"></i>';
      li.appendChild(link);
      taskList.appendChild(li);
      taskInput.value = "12";
      e.preventDefault();
    }
  </script>
</html>
